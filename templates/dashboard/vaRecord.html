{% extends '../base.html' %}
{% block title %}VA Records{% endblock %}
{% block content %}
<div class="va_records_page">
  <div class="container-fluid my-4">
      <div class="row">
        <div class="col-md-12">
          <div class="content">
            <div class="title_section">
              <h1>VA Records</h1>
            </div>
            <div class="content_table">
              <!-- <div class="table-responsive"> -->
                <table class="table table-striped table-bordered table-sm" id="va_records">
                    <thead class="table-dark">
                        <tr>
                            <th scope="col">Id</th>
                            <th scope="col">Region</th>
                            <th scope="col">District</th>
                            <th scope="col">Ward</th>
                            <th scope="col">Sex</th>
                            <th scope="col">Age Group</th>
                            <th scope="col">Interview Date</th>
                            <th scope="col">Open</th>
                            <th scope="col" style="display:none">XML</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for rec in page_obj %}
                        <tr>
                            <td>{{rec.id}}</td>
                            <td>{{rec.region}}</td>
                            <td>{{rec.district}}</td>
                            <td>{{rec.ward}}</td>
                            <td>{{rec.dec_sex}}</td>
                            <td>{{rec.dec_agegroup}}</td>
                            <td>{{rec.int_date}}</td>
                            <td class="open-va"><a href="#" class="btn btn-dark btn-sm" data-bs-toggle="modal" data-bs-target="#va_record">Open</a></td>
                            <td class="xml-rec" style="display:none">{{rec.xml}}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
                {% include "../components/pagination.html" %}
              <!-- </div> -->
            </div>
          </div>
        </div>
      </div>
  </div>

  <!-- Modal -->
  <div class="modal fade" id="va_record" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="staticBackdropLabel">Modal title</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="container-fluid">
              <div class="row">
                  <div class="col-7">
                      <div class="card">
                          <div class="card-header">
                              VA Record
                          </div>
                          <div class="card-body" style=" height: 30rem; overflow-y: auto;">
                              <table id="vatable"></table>
                          </div>
                      </div>
                  </div>
                  <div class="col-5">
                      <div class="card">
                          <div class="card-header">
                              VA Summary
                          </div>
                          <div class="card-body" style=" height: 30rem; overflow-y: auto;">
                              <p>Region : <span id="Id10005R"></span></p>
                              <p>District : <span id="Id10005D"></span></p>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}





{% block datatable %}
<script type="text/javascript" src="https://cdn.datatables.net/v/dt/dt-1.12.1/af-2.4.0/cr-1.5.6/fc-4.1.0/fh-3.2.4/kt-2.7.0/r-2.3.0/rg-1.2.0/rr-1.2.8/sc-2.0.7/sb-1.3.4/sp-2.0.2/sl-1.4.0/datatables.min.js"></script>

<script type="text/javascript">
  $(document).ready(function(){
    $('#va_records').DataTable({
      dom: 'B<"clear">lfrtip',
      button: {
        name: 'primary',
        // button: ['copy', 'csv', 'excel', 'pdf'],
        button: ['excel', 'pdf']
      }
    });
  });
</script>
{% endblock %}
